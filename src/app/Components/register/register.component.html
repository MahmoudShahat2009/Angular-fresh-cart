<section class=" container shadow my-3 py-3  rounded-3">
  <h2>Register Form</h2>
  <form [formGroup]="registerForm" (ngSubmit)="handleForm()">
    <div class="form-item">
      <label for="name">Name</label>
      <input id="name" type="text" class="form-control" formControlName="name">
      <div class=" alert alert-success"
        *ngIf="(registerForm.get('name')?.touched || registerForm.get('name')?.value.Length > 0) && registerForm.get('name')?.errors">
        <p *ngIf="registerForm.get('name')?.getError('required')">Name Is required</p>
        <p *ngIf="registerForm.get('name')?.getError('minlength')">Name Min Length 3 </p>
        <p *ngIf="registerForm.get('name')?.getError('maxlength')">Name Max Length 10</p>
      </div>
    </div>

    <div class="form-item">
      <label for="email">Email</label>
      <input id="email" type="email" class="form-control" formControlName="email">
      <div class=" alert alert-success"
        *ngIf="(registerForm.get('email')?.touched || registerForm.get('email')?.value.Length > 0) && registerForm.get('email')?.errors">
        <p *ngIf="registerForm.get('email')?.getError('required')">Email Is required</p>
        <p *ngIf="registerForm.get('email')?.getError('email')">Email invalid format</p>
      </div>
    </div>
    <div class="form-item">
      <label for="password">Password</label>
      <input id="password" type="password" class="form-control" formControlName="password">
      <div class=" alert alert-success"
        *ngIf="(registerForm.get('password')?.touched || registerForm.get('password')?.value.Length > 0) && registerForm.get('password')?.errors">
        <p *ngIf="registerForm.get('password')?.getError('required')">password Is required</p>
        <p *ngIf="registerForm.get('password')?.getError('pattern')">password must be at least 6 chars</p>
      </div>
    </div>
    <div class="form-item">
      <label for="rePassword">rePassword</label>
      <input id="rePassword" type="password" class="form-control" formControlName="rePassword">
      <div class=" alert alert-success"
        *ngIf="(registerForm.get('rePassword')?.touched || registerForm.get('rePassword')?.value.Length > 0) && registerForm.get('rePassword')?.errors">
        <p *ngIf="registerForm.get('rePassword')?.getError('required')">repassword Is required</p>
        <p *ngIf="registerForm.get('rePassword')?.getError('mismatch')">rePassword confirmation is incorrect</p>
      </div>
    </div>
    <div class="form-item">
      <label for="phone">Phone</label>
      <input id="phone" type="tel" class="form-control" formControlName="phone">
      <div class=" alert alert-success"
        *ngIf="(registerForm.get('phone')?.touched || registerForm.get('phone')?.value.Length > 0) && registerForm.get('phone')?.errors">
        <p *ngIf="registerForm.get('phone')?.getError('required')">password Is required</p>
        <p *ngIf="registerForm.get('phone')?.getError('pattern')">accept only egypt phone numbers</p>
      </div>
    </div>
    <button [disabled]="registerForm.invalid" type="submit" class="main-btn mt-3">
      Register
      <span *ngIf="isLoading"><i class="fa-solid fa-spinner fa-spin"></i></span>
    </button>

    <p *ngIf="errorMsg" class="alert alert-danger">{{errorMsg}} </p>
  </form>
</section>
